<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Service Workers | Rindo</title>
    <meta name="description" content="Build. Customize. Distribute. Adopt.">
    <link rel="stylesheet" href="/assets/style.c7e9f6fb.css">
    <link rel="modulepreload" href="/assets/app.3b6acc86.js">
    <link rel="modulepreload" href="/assets/guide_service-workers.md.7f208a87.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <meta property="og:type" content="website">
  <script>(()=>{const e=localStorage.getItem("witepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-k-0155240f><!--[--><!--]--><!--[--><span tabindex="-1" data-k-50b3a1f9></span><a href="#WPContent" class="WPSkipLink visually-hidden" data-k-50b3a1f9> Skip to content </a><!--]--><!----><header class="WPNav" data-k-0155240f data-k-29a1df0d><div class="WPNavBar has-sidebar" data-k-29a1df0d data-k-b1497c75><div class="container" data-k-b1497c75><div class="WPNavBarTitle has-sidebar" data-k-b1497c75 data-k-dc9a98f7><a class="title" href="/" data-k-dc9a98f7><!--[--><img class="WPImage logo" src="/logo.svg" data-k-51c5ea74><!--]--><!--[-->Rindo<!--]--></a></div><div class="content" data-k-b1497c75><!----><nav aria-labelledby="main-nav-aria-label" class="WPNavBarMenu menu" data-k-b1497c75 data-k-71c7e226><span id="main-nav-aria-label" class="visually-hidden" data-k-71c7e226>Main Navigation</span><!--[--><!--[--><a class="WPLink link WPNavBarMenuLink active" href="/guide/" data-k-71c7e226 data-k-1d103397 data-k-ebe4c4e6><!--[-->Guide<!--]--><!----></a><!--]--><!--]--></nav><div class="WPFlyout WPNavBarTranslations translations" data-k-b1497c75 data-k-0b1b90a7 data-k-7160def4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-k-7160def4><span class="text" data-k-7160def4><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-k-7160def4><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-k-7160def4><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-k-7160def4><div class="WPMenu" data-k-7160def4 data-k-40d9dbe2><!----><!--[--><!--[--><div class="items" data-k-0b1b90a7><p class="title" data-k-0b1b90a7>English</p><!--[--><!--]--></div><!--]--><!--]--></div></div></div><div class="WPNavBarAppearance appearance" data-k-b1497c75 data-k-1cd5508c><button class="WPSwitch WPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-k-1cd5508c data-k-a6cb6cf7 data-k-828fb65d><span class="check" data-k-828fb65d><span class="icon" data-k-828fb65d><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-k-a6cb6cf7><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-k-a6cb6cf7><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="WPSocialLinks WPNavBarSocialLinks social-links" data-k-b1497c75 data-k-6b5f91dc data-k-274b2cd4><!--[--><a class="WPSocialLink" href="https://github.com/navify/" title="github" target="_blank" rel="noopener noreferrer" data-k-274b2cd4 data-k-0cfca22f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-k-0cfca22f><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-k-0cfca22f>github</span></a><!--]--></div><div class="WPFlyout WPNavBarExtra extra" data-k-b1497c75 data-k-9e7d3cbc data-k-7160def4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-k-7160def4><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-k-7160def4><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-k-7160def4><div class="WPMenu" data-k-7160def4 data-k-40d9dbe2><!----><!--[--><!--[--><div class="group" data-k-9e7d3cbc><p class="trans-title" data-k-9e7d3cbc>English</p><!--[--><!--]--></div><div class="group" data-k-9e7d3cbc><div class="item appearance" data-k-9e7d3cbc><p class="label" data-k-9e7d3cbc>Appearance</p><div class="appearance-action" data-k-9e7d3cbc><button class="WPSwitch WPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-k-9e7d3cbc data-k-a6cb6cf7 data-k-828fb65d><span class="check" data-k-828fb65d><span class="icon" data-k-828fb65d><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-k-a6cb6cf7><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-k-a6cb6cf7><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-k-9e7d3cbc><div class="item social-links" data-k-9e7d3cbc><div class="WPSocialLinks social-links-list" data-k-9e7d3cbc data-k-274b2cd4><!--[--><a class="WPSocialLink" href="https://github.com/navify/" title="github" target="_blank" rel="noopener noreferrer" data-k-274b2cd4 data-k-0cfca22f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-k-0cfca22f><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden" data-k-0cfca22f>github</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="WPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="WPNavScreen" data-k-b1497c75 data-k-433e9fb6><span class="container" data-k-433e9fb6><span class="top" data-k-433e9fb6></span><span class="middle" data-k-433e9fb6></span><span class="bottom" data-k-433e9fb6></span></span></button></div></div></div><!----></header><div class="WPLocalNav" data-k-0155240f data-k-8c29cf03><button class="menu" aria-expanded="false" aria-controls="WPSidebarNav" data-k-8c29cf03><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-k-8c29cf03><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-k-8c29cf03>Menu</span></button><a class="top-link" href="#" data-k-8c29cf03> Return to top </a></div><aside class="WPSidebar" data-k-0155240f data-k-46e267dc><nav class="nav" id="WPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-k-46e267dc><span class="visually-hidden" id="sidebar-aria-label" data-k-46e267dc> Sidebar Navigation </span><!--[--><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Introduction</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/introduction.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Overview</span><!--]--><!----></a><a class="WPLink link" href="/guide/goals-and-objectives.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Rindo Goals And Objectives</span><!--]--><!----></a><a class="WPLink link" href="/guide/" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Getting Started</span><!--]--><!----></a><a class="WPLink link" href="/guide/my-first-component.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>My First Component</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Components</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/api.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>API</span><!--]--><!----></a><a class="WPLink link" href="/guide/component.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Component</span><!--]--><!----></a><a class="WPLink link" href="/guide/component-lifecycle.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Lifecycle Methods</span><!--]--><!----></a><a class="WPLink link" href="/guide/properties.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Properties</span><!--]--><!----></a><a class="WPLink link" href="/guide/state.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Internal State</span><!--]--><!----></a><a class="WPLink link" href="/guide/reactive-data.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Reactive Data</span><!--]--><!----></a><a class="WPLink link" href="/guide/templating-jsx.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Using JSX</span><!--]--><!----></a><a class="WPLink link" href="/guide/events.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Events</span><!--]--><!----></a><a class="WPLink link" href="/guide/methods.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Methods</span><!--]--><!----></a><a class="WPLink link" href="/guide/host-element.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Host Element</span><!--]--><!----></a><a class="WPLink link" href="/guide/styling.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Styling</span><!--]--><!----></a><a class="WPLink link" href="/guide/functional-components.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Functional Components</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Framework Integrations</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/overview.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Overview</span><!--]--><!----></a><a class="WPLink link" href="/guide/framework-bindings.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Bindings</span><!--]--><!----></a><a class="WPLink link" href="/guide/react.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>React</span><!--]--><!----></a><a class="WPLink link" href="/guide/kdu.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Kdu</span><!--]--><!----></a><a class="WPLink link" href="/guide/javascript.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>JavaScript</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Static Site Generation</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/static-site-generation.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Overview</span><!--]--><!----></a><a class="WPLink link" href="/guide/prerender-config.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Prerender Config</span><!--]--><!----></a><a class="WPLink link" href="/guide/static-site-generation-basics.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Basics</span><!--]--><!----></a><a class="WPLink link" href="/guide/static-site-generation-debugging.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Debugging</span><!--]--><!----></a><a class="WPLink link" href="/guide/static-site-generation-meta-tags.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Meta tags</span><!--]--><!----></a><a class="WPLink link" href="/guide/static-site-generation-server-side-rendering-ssr.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Server Side Rendering</span><!--]--><!----></a><a class="WPLink link" href="/guide/static-site-generation-deployment.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Deployment</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Config</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/config.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Overview</span><!--]--><!----></a><a class="WPLink link" href="/guide/dev-server.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Dev Server</span><!--]--><!----></a><a class="WPLink link" href="/guide/plugins.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Plugins</span><!--]--><!----></a><a class="WPLink link" href="/guide/config-extras.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Extras</span><!--]--><!----></a><a class="WPLink link" href="/guide/cli.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>CLI</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Output Targets</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/output-targets.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Overview</span><!--]--><!----></a><a class="WPLink link" href="/guide/distribution.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>dist</span><!--]--><!----></a><a class="WPLink link" href="/guide/custom-elements.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>dist-custom-elements</span><!--]--><!----></a><a class="WPLink link" href="/guide/custom-elements-bundle.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>dist-custom-elements-bundle</span><!--]--><!----></a><a class="WPLink link" href="/guide/www.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>www</span><!--]--><!----></a><a class="WPLink link" href="/guide/stats.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>stats</span><!--]--><!----></a><a class="WPLink link" href="/guide/docs-readme.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>docs-readme</span><!--]--><!----></a><a class="WPLink link" href="/guide/docs-json.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>docs-json</span><!--]--><!----></a><a class="WPLink link" href="/guide/docs-custom.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>docs-custom</span><!--]--><!----></a><a class="WPLink link" href="/guide/docs-vscode.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>docs-vscode</span><!--]--><!----></a><a class="WPLink link" href="/guide/copy-tasks.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Copy Tasks</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Guides</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/assets.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Assets</span><!--]--><!----></a><a class="WPLink link" href="/guide/module-bundling.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Bundling</span><!--]--><!----></a><a class="WPLink link" href="/guide/design-systems.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Design Systems</span><!--]--><!----></a><a class="WPLink link" href="/guide/forms.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Forms</span><!--]--><!----></a><a class="WPLink link" href="/guide/hydrate-app.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Hydrate App</span><!--]--><!----></a><a class="WPLink link" href="/guide/publishing.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Publishing</span><!--]--><!----></a><a class="WPLink link active" href="/guide/service-workers.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Service Workers</span><!--]--><!----></a><a class="WPLink link" href="/guide/rindo-store.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Rindo Store</span><!--]--><!----></a><a class="WPLink link" href="/guide/style-guide.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Style Guide</span><!--]--><!----></a><a class="WPLink link" href="/guide/typed-components.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Typed Components</span><!--]--><!----></a><a class="WPLink link" href="/guide/web-workers.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Web Workers</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Testing</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/testing-overview.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Overview</span><!--]--><!----></a><a class="WPLink link" href="/guide/testing-config.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Config</span><!--]--><!----></a><a class="WPLink link" href="/guide/unit-testing.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Unit Testing</span><!--]--><!----></a><a class="WPLink link" href="/guide/end-to-end-testing.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>End-to-end Testing</span><!--]--><!----></a><a class="WPLink link" href="/guide/mocking.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Mocking</span><!--]--><!----></a><a class="WPLink link" href="/guide/screenshot-visual-diff.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Visual Screenshot Diff</span><!--]--><!----></a><a class="WPLink link" href="/guide/screenshot-connector.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Screenshot Connector</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Core Compiler API</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/compiler-api.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Compiler API</span><!--]--><!----></a><a class="WPLink link" href="/guide/cli-api.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>CLI API</span><!--]--><!----></a><a class="WPLink link" href="/guide/dev-server-api.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Dev Server API</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Legal</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/telemetry.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Telemetry</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-k-46e267dc><section class="WPSidebarGroup" data-k-46e267dc data-k-5503b560><div class="title" data-k-5503b560><h2 class="title-text" data-k-5503b560>Reference</h2><div class="action" data-k-5503b560><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-k-5503b560><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-k-5503b560><!--[--><a class="WPLink link" href="/guide/support-policy.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Support Policy</span><!--]--><!----></a><a class="WPLink link" href="/guide/versioning.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Versioning</span><!--]--><!----></a><a class="WPLink link" href="/guide/browser-support.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>Browser Support</span><!--]--><!----></a><a class="WPLink link" href="/guide/faq.html" data-k-5503b560 data-k-fbb46f58 data-k-ebe4c4e6><!--[--><span class="link-text" data-k-fbb46f58>FAQ</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="WPContent has-sidebar" id="WPContent" data-k-0155240f data-k-ee028cc5><div class="WPDoc has-sidebar" data-k-ee028cc5 data-k-6c7d98ba><div class="container" data-k-6c7d98ba><div class="aside" data-k-6c7d98ba><div class="aside-curtain" data-k-6c7d98ba></div><div class="aside-container" data-k-6c7d98ba><div class="aside-content" data-k-6c7d98ba><div class="WPDocAside" data-k-6c7d98ba data-k-71308782><!--[--><!--]--><!--[--><!--]--><div class="WPDocAsideOutline has-outline" data-k-71308782 data-k-768d9dbb><div class="content" data-k-768d9dbb><div class="outline-marker" data-k-768d9dbb></div><div class="outline-title" data-k-768d9dbb>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-k-768d9dbb><span class="visually-hidden" id="doc-outline-aria-label" data-k-768d9dbb> Table of Contents for current page </span><ul class="root" data-k-768d9dbb><!--[--><li style="" data-k-768d9dbb><a class="outline-link" href="#what-is-workbox" data-k-768d9dbb>What is Workbox?</a><!----></li><li style="" data-k-768d9dbb><a class="outline-link" href="#usage" data-k-768d9dbb>Usage</a><!----></li><li style="" data-k-768d9dbb><a class="outline-link" href="#config" data-k-768d9dbb>Config</a><!----></li><li style="" data-k-768d9dbb><a class="outline-link" href="#using-a-custom-service-worker" data-k-768d9dbb>Using a custom service worker</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-k-71308782></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-k-6c7d98ba><div class="content-container" data-k-6c7d98ba><!--[--><!--]--><main class="main" data-k-6c7d98ba><div style="position:relative;" class="wp-doc _guide_service-workers" data-k-6c7d98ba><div><h1 id="service-workers" tabindex="-1">Service Workers <a class="header-anchor" href="#service-workers" aria-hidden="true">#</a></h1><p><a href="https://developers.google.com/web/fundamentals/getting-started/primers/service-workers" target="_blank" rel="noopener noreferrer">Service workers</a> are a very powerful api that is essential for <a href="https://www.howtogeek.com/342121/what-are-progressive-web-apps/" target="_blank" rel="noopener noreferrer">PWAs</a>, but can be hard to use. To help with this, we decided to build support for Service Workers into Rindo itself using <a href="https://workboxjs.org/" target="_blank" rel="noopener noreferrer">Workbox</a>.</p><h2 id="what-is-workbox" tabindex="-1">What is Workbox? <a class="header-anchor" href="#what-is-workbox" aria-hidden="true">#</a></h2><p>Workbox is a library that greatly simplifies the Service Worker API. It allows you to quickly generate a service worker that can handle caching static assets, cache remote assets using routes (similar to Express) or even do offline Google Analytics. Because we are built on top of Workbox, you can easily use any of the functionality they offer. For more info on Workbox, <a href="https://developers.google.com/web/tools/workbox/" target="_blank" rel="noopener noreferrer">check out their docs</a></p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-hidden="true">#</a></h2><p>When doing a production build of an app built using Rindo, the Rindo compiler will automatically generate a service worker for you and inject the necessary code to register the service worker in your index.html. Also, because the files Rindo generates are hashed, every time you do a production build and push an update to your app, the service worker will know to update, therefore ensuring your users are never stuck on a stale version of your site.</p><p>Lets run through the steps needed to enable service workers for your project:</p><ul><li><code>cd</code> into your project</li><li>Run <code>npm run build</code></li></ul><p>And that&#39;s it! You should now have an <code>sw.js</code> file in your <code>www</code> folder and the code to register the service worker in your <code>www/index.html</code> file.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The component starter by default does not have service workers enabled as a service worker is not needed for component collections</p></div><h2 id="config" tabindex="-1">Config <a class="header-anchor" href="#config" aria-hidden="true">#</a></h2><p>Rindo uses Workbox underneath, and by default generates a service worker from a config object using the <code>generateSW</code> mode. Therefore it supports all of the <a href="https://developers.google.com/web/tools/workbox/modules/workbox-build#full_generatesw_config" target="_blank" rel="noopener noreferrer">Workbox generateSW config options</a>. Here is the default config Rindo uses:</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">globPatterns</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">**/*.{js,css,json,html}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p>This configuration does pre-caching of all of your app&#39;s assets.</p><p>To modify this config you can use the <code>serviceWorker</code> param of your Rindo config. Here is an example:</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@rindo/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">www</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">serviceWorker</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">globPatterns</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">**/*.{js,css,json,html,ico,png}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h3 id="disabling-the-service-worker" tabindex="-1">Disabling the service worker <a class="header-anchor" href="#disabling-the-service-worker" aria-hidden="true">#</a></h3><p>If you do not want a service worker to be generated during the build, this can be turned off. To disable this feature, set the <code>serviceWorker</code> property to <code>null</code> in the <code>www</code> output target.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@rindo/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">www</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">serviceWorker</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h2 id="using-a-custom-service-worker" tabindex="-1">Using a custom service worker <a class="header-anchor" href="#using-a-custom-service-worker" aria-hidden="true">#</a></h2><p>Already have a service worker or want to include some custom code? We support that, too. By specifying a source file for your service worker, Rindo switches to the <code>injectManifest</code> mode of Workbox. That gives you full control over your service worker, while still allowing you to automatically inject a precache manifest.</p><p>Let&#39;s go through the steps needed for this functionality:</p><ul><li>First we need to pass the path to our custom service worker to the <code>swSrc</code> command in the <code>serviceWorker</code> config. Here is an example:</li></ul><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@rindo/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">outputTargets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">www</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">serviceWorker</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">swSrc</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/sw.js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><ul><li>Now we need to include some boilerplate code in our custom service worker:</li></ul><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// change to the version you get from `npm ls workbox-build`</span></span>
<span class="line"><span style="color:#82AAFF;">importScripts</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">workbox-v4.3.1/workbox-sw.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// your custom service worker code</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// the precache manifest will be injected into the following line</span></span>
<span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">workbox</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">precaching</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">precacheAndRoute</span><span style="color:#A6ACCD;">([])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>This code imports the Workbox library, creates a new instance of the service worker and tells Workbox where to insert the pre-cache array.</p><h3 id="showing-a-reload-toast-when-an-update-is-available" tabindex="-1">Showing a reload toast when an update is available <a class="header-anchor" href="#showing-a-reload-toast-when-an-update-is-available" aria-hidden="true">#</a></h3><p>When a new service worker is available, by default, it will be downloaded and then go into a state of waiting to be activated. The new service worker won&#39;t take over until all tabs of the site are closed and the site is visited again. This is to avoid unexpected behavior from conflicts with files being served from cache, and works well in many cases.</p><p>If you want to give your users the option to immediately access the new update, a common way is to show them a toast that lets them know about the update and offers a &quot;reload&quot; button. The reload let&#39;s the new service worker take over, serving the fresh content, and triggers a page reload, to avoid cache issues.</p><p>The following example showcases this in combination with the Navify framework, but the toast-related code should be easily adaptable to any UI. Add the following to your root component (commonly <code>app-root.tsx</code>).</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Listen</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">swUpdate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">window</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">async </span><span style="color:#82AAFF;">onServiceWorkerUpdate</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">registration</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">serviceWorker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getRegistration</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">waiting</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// If there is no waiting registration, this is the first service</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// worker being installed.</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">toast</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">toastController</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    message</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">New version available.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    buttons</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> text</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Reload</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> role</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">reload</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    duration</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">toast</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">present</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">role</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">toast</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onWillDismiss</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">role</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">reload</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">waiting</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">postMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">skipWaiting</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>The <code>swUpdate</code> event is emitted by Rindo every time a new service worker is installed. When a service worker is waiting for registration, the toast is shown. After clicking the reload button, a message is posted to the waiting service worker, letting it know to take over. This message needs to be handled by the service worker; therefore we need to create a custome one (e. g. <code>src/sw.js</code>) and add a listener to call <code>skipWaiting()</code>.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#82AAFF;">importScripts</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">workbox-v4.3.1/workbox-sw.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">skipWaiting</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">skipWaiting</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">workbox</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">precaching</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">precacheAndRoute</span><span style="color:#A6ACCD;">([])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Don&#39;t forget to set <code>swSrc</code> in your Rindo config.</p></div><p>Finally, we want our app to reload when the new service worker has taken over, so that no outdated code is served from the cache anymore. We can use the service worker&#39;s <code>controllerchange</code> event for that, by attaching an event listener in our root component&#39;s <code>componentWillLoad</code> lifecycle hook.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#82AAFF;">componentWillLoad</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">serviceWorker</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">navigator</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">serviceWorker</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getRegistration</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">registration</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">active</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">serviceWorker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">controllerchange</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">location</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reload</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">          )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="handle-push-events" tabindex="-1">Handle push events <a class="header-anchor" href="#handle-push-events" aria-hidden="true">#</a></h3><p>A common use case for custom service workers is to handle browser push notifications. But before we will be able show push notifications, we first need to use the Notifications API to request permissions from the user to do so.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Notification</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> window </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">serviceWorker</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> navigator) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Notification</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">requestPermission</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// status will either be &#39;default&#39;, &#39;granted&#39; or &#39;denied&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">Notification permissions have been </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">}`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>The current permission status can always be checked using <code>Notification.permission</code>.</p><p>To show a notification to the user after being granted permission, we can use the <code>showNotification</code> method of our service worker&#39;s registration (within our custom service worker).</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">showNotification</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hakuna matata.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>Usually we will have a backend that will send out push notifications to clients, and we want our service worker to handle them. To do that, we can register an event listener in our worker for the <code>push</code> event. The event will be of type <a href="https://developer.mozilla.org/en-US/docs/Web/API/PushEvent" target="_blank" rel="noopener noreferrer"><code>PushEvent</code></a> and have a <code>data</code> field of type <a href="https://developer.mozilla.org/en-US/docs/Web/API/PushMessageData" target="_blank" rel="noopener noreferrer"><code>PushMessageData</code></a>.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">push</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> event </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">Push received with data &quot;</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">text</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">title</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Push Notification</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">options</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    body</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`${</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">text</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    data</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> href</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/users/donald</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    actions</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> action</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">details</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Details</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> action</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dismiss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Dismiss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">waitUntil</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">showNotification</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">options</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>If the data is a JSON string, then <code>data.json()</code> can be used to immediately get the parsed data. The <code>event.waitUntil</code> method is used to ensure that the service worker doesn&#39;t terminate before the asynchronous <code>showNotification</code> operation has completed.</p><p>Furthermore, we will likely want to handle notification clicks. The API provides the events <code>notificationclick</code> and <code>notificationclose</code> for that.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">notificationclick</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> event </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">notification</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">notification</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">action</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">action</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">action</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dismiss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">notification</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// This handles both notification click and &#39;details&#39; action,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// because some platforms might not support actions.</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">clients</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">openWindow</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">notification</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">href</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">notification</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>Now our service worker is able to receive and process push notifications, however we still need to register the client with our backend. Browsers provide a push service for that reason, which your app can subscribe to. The subscription object contains an endpoint URL with a unique identifier for each client. You can send your notifications to that URL, encrypted with a public key which is also provided by the subscription object.</p><p>In order to implement this, we first need to get each client to subscribe to the browser&#39;s push service, and then send the subscription object to our backend. Then our backend can generate the push notifications, encrypt them with the public key, and send them to the subscription endpoint URL.</p><p>First we will implement a function to subscribe the user to the push service, which as a best practice should be triggered from a user action signalling that they would like to receive push notifications. Assuming that notification permissions have already been granted, the following function can be used for that.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">subscribeUser</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">serviceWorker</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">navigator</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">registration</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">serviceWorker</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ready</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">subscription</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pushManager</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subscribe</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> userVisibleOnly</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">subscription</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// the subscription object is what we want to send to our backend</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">subscription</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">endpoint</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>We should also check our subscription every time our app is accessed, because the subscription object can change.</p><div class="language-tsx"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">registration</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pushManager</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSubscription</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(subscription </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">subscription</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ask the user to register for push</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// update the database</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">subscription</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-hidden="true">#</a></h3><ul><li>For more information on push notifications and the related APIs please refer to the <a href="https://developers.google.com/web/ilt/pwa/introduction-to-push-notifications" target="_blank" rel="noopener noreferrer">Web Fundamentals Introduction to Push Notifications</a> and the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API" target="_blank" rel="noopener noreferrer">MDN Push API docs</a>.</li><li><a href="https://twitter.com/davidbrunelle/status/1073394572980453376" target="_blank" rel="noopener noreferrer">This Twitter thread by David Brunelle</a> explains how to implement versioning in your PWA in order to handle breaking API changes. The problem here is that your service worker enabled app will continue to serve an outdated (cached) app against your updated API. In order to solve this a version check can be implemented.</li></ul></div></div></main><footer class="WPDocFooter" data-k-6c7d98ba data-k-aa463524><div class="edit-info" data-k-aa463524><div class="edit-link" data-k-aa463524><a class="WPLink link edit-link-button" href="https://github.com/navify/rindo-site/edit/main/docs/guide/service-workers.md" target="_blank" rel="noopener noreferrer" data-k-aa463524 data-k-ebe4c4e6><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-k-aa463524><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Suggest changes to this page<!--]--><!----></a></div><!----></div><div class="prev-next" data-k-aa463524><div class="pager" data-k-aa463524><a class="pager-link prev" href="/guide/publishing.html" data-k-aa463524><span class="desc" data-k-aa463524>Previous page</span><span class="title" data-k-aa463524>Publishing</span></a></div><div class="has-prev pager" data-k-aa463524><a class="pager-link next" href="/guide/rindo-store.html" data-k-aa463524><span class="desc" data-k-aa463524>Next page</span><span class="title" data-k-aa463524>Rindo Store</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="WPFooter has-sidebar" data-k-0155240f data-k-3912c399><div class="container" data-k-3912c399><p class="message" data-k-3912c399>Released under the MIT License.</p><p class="copyright" data-k-3912c399>Copyright  2022-present Rindo</p></div></footer><!--[--><!--]--></div></div>
    <script>__WP_HASH_MAP__ = JSON.parse("{\"guide_api.md\":\"f1df1d74\",\"guide_assets.md\":\"473cfabf\",\"guide_browser-support.md\":\"d5f1fb4a\",\"guide_cli-api.md\":\"e1106d4d\",\"guide_cli.md\":\"28ffdebe\",\"guide_compiler-api.md\":\"debb361f\",\"guide_component-lifecycle.md\":\"3b690a4f\",\"guide_component.md\":\"6d6c4fbb\",\"guide_config-extras.md\":\"ea26fcec\",\"guide_config.md\":\"db133a16\",\"guide_copy-tasks.md\":\"a4afd3e1\",\"guide_custom-elements-bundle.md\":\"923c5493\",\"guide_custom-elements.md\":\"00b78185\",\"guide_design-systems.md\":\"30126702\",\"guide_dev-server-api.md\":\"b86a94ef\",\"guide_dev-server.md\":\"d08d5d51\",\"guide_distribution.md\":\"ee467cc8\",\"guide_docs-custom.md\":\"08d8ca0c\",\"guide_docs-json.md\":\"e15d8112\",\"guide_docs-readme.md\":\"335ba5c5\",\"guide_docs-vscode.md\":\"a910a980\",\"guide_end-to-end-testing.md\":\"87cecd96\",\"guide_events.md\":\"68289859\",\"guide_faq.md\":\"d561c2ed\",\"guide_forms.md\":\"1f127636\",\"guide_framework-bindings.md\":\"0a252400\",\"guide_functional-components.md\":\"3d833dda\",\"guide_goals-and-objectives.md\":\"5815d545\",\"guide_host-element.md\":\"eddafc92\",\"guide_hydrate-app.md\":\"daf1c92c\",\"guide_index.md\":\"29dcc1ab\",\"guide_introduction.md\":\"3000c23b\",\"guide_javascript.md\":\"95bfb6e4\",\"guide_kdu.md\":\"00f4508c\",\"guide_methods.md\":\"769d64bf\",\"guide_mocking.md\":\"b8a7b467\",\"guide_module-bundling.md\":\"905172d2\",\"guide_my-first-component.md\":\"4761cc31\",\"guide_output-targets.md\":\"18017d84\",\"guide_overview.md\":\"5f8e81d0\",\"guide_plugins.md\":\"3fff280c\",\"guide_prerender-config.md\":\"0de97aaa\",\"guide_properties.md\":\"1f6456d2\",\"guide_publishing.md\":\"056dd9fc\",\"guide_react.md\":\"0d3f439d\",\"guide_reactive-data.md\":\"87caa5b2\",\"guide_rindo-store.md\":\"6d599350\",\"guide_screenshot-connector.md\":\"ad02b0e8\",\"guide_screenshot-visual-diff.md\":\"aa908bd4\",\"guide_service-workers.md\":\"7f208a87\",\"guide_state.md\":\"6e65077c\",\"guide_static-site-generation-basics.md\":\"372961e4\",\"guide_static-site-generation-debugging.md\":\"9d96783a\",\"guide_static-site-generation-deployment.md\":\"b57c4f0d\",\"guide_static-site-generation-meta-tags.md\":\"c9b05c8d\",\"guide_static-site-generation-server-side-rendering-ssr.md\":\"bfbd327d\",\"guide_static-site-generation.md\":\"a547613c\",\"guide_stats.md\":\"8ccbd725\",\"guide_style-guide.md\":\"069c768d\",\"guide_styling.md\":\"53d64e92\",\"guide_support-policy.md\":\"6dfc5ba5\",\"guide_telemetry.md\":\"bd97b4f5\",\"guide_templating-jsx.md\":\"b2e80009\",\"guide_testing-config.md\":\"134c51b5\",\"guide_testing-overview.md\":\"f80228e3\",\"guide_typed-components.md\":\"03c9099c\",\"guide_unit-testing.md\":\"90adfd8a\",\"guide_versioning.md\":\"8774011d\",\"guide_web-workers.md\":\"a2f809fc\",\"guide_www.md\":\"a25f4ab1\",\"index.md\":\"7976cc09\"}")</script>
    <script type="module" async src="/assets/app.3b6acc86.js"></script>
    
  </body>
</html>